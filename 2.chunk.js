(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),i=n(37),r=n.n(i),l=n(14),s=n.n(l),c=n(3),d=n.n(c),u=n(17),m=n.n(u),h=(n(6),n(81)),p=n.n(h);const f=m.a.bind(p.a);var w={Drawer:({children:e,className:t="",initialState:n=!1,style:a={}}={})=>{const[i,r]=o.a.useState(n);return o.a.createElement("div",{className:f("container",{open:i},t),style:a},o.a.createElement("div",{className:f("content",{open:i})},e),o.a.createElement("div",{"aria-pressed":"false",className:f("button",{open:i}),onClick:()=>r(!i),onKeyDown:e=>(32===e.which||13===e.which)&&r(!i),role:"button",tabIndex:"0"},i?o.a.createElement("span",null,"-"):o.a.createElement("span",null,"+")))},Layout:{Card:({children:e,style:t={}}={})=>o.a.createElement("div",{style:{backgroundColor:"rgb(240,240,240)",display:"flex",flex:"0 0 auto",flexDirection:"column",height:"8.5rem",justifyContent:"space-between",margin:"0.3rem",width:"13.8rem",...t}},e),Content:({children:e,style:t={}}={})=>o.a.createElement("div",{style:{padding:"0.5rem",width:"100%",...t}},e),ProgressBar:({color:e="rgb(121,121,121)",progress:t=0,style:n={}}={})=>o.a.createElement("div",{style:{backgroundColor:e,height:"0.5rem",width:`${Math.min(100,Math.floor(100*t))}%`,transition:"all 0.5s",...n}})}},y=n(83),g=n.n(y),v=n(33),E=n.n(v);const k="jo/events/tick",b=e=>d()(e,"events.ticks",0),C={CLICKING_FOR_COOKIES:"clicking-for-cookies",STAYIN_ALIVE:"stayin-alive",UNLOCK_ACHIEVEMENTS:"unlock-achievements",WEB_CRAWLER:"web-crawler"},x=e=>({type:"jo/achievements/achieved",payload:{id:e}}),_=(e={},t)=>{switch(t.type){case"jo/achievements/achieved":return{...e,[t.payload.id]:{when:Date.now()}};default:return e}};const L=(e,t)=>!!d()(e,`achievements.${C[t]||t}`),S=e=>s()(b(e)/7,2),j="jo/notifications/enqueue";const N=function(e){return e instanceof Error?e={message:e.message,type:"error"}:"string"==typeof e&&(e={message:e}),{type:j,payload:e}},I="jo/notifications/remove";const W="jo/notifications/dequeue";const A="jo/notifications/reset";const K=[];function T(e=K,t={}){switch(t.type){case W:return e.slice(1);case j:return e.concat(t.payload);case I:return e.filter(e=>e!==t.payload);case A:return K;default:return e}}const J=o.a.createContext({state:{key:"something something something in the month of may"},dispatch:()=>console.warn("non-initialized dispatch being called")});const O={achievements:_,events:(e={},t)=>{switch(t.type){case"jo/events/click":return{...e,clicks:(e.clicks||0)+1};case"jo/events/key-down":return{...e,keydowns:E()([...e.keydowns||[],t.payload.char],15)};case"jo/events/reset":return{};case k:return{...e,ticks:(e.ticks||0)+1};default:return e}},notifications:T},R=(e,t)=>{switch(t.type){case"reset":return{};case"set":return e.payload}let n=!1;const a={};return g()(O,(o,i)=>{const r=d()(e,i),l=o(r,t);l!==r&&(n=!0,a[i]=l)}),n&&(e={...e,...a}),e};const P=J,z=()=>o.a.useContext(P);var B=()=>{const{dispatch:e,state:t}=z(),n=C.CLICKING_FOR_COOKIES,a=L(t,n),i=d()(t,"events.clicks")||0,r=s()(i/200,2);return o.a.useEffect(()=>{a||r>=1&&(e(x(n)),e(N("Achievement unlocked: Clicking for Cookies! (Have a cookie, you deserve it.)")))},[n,a,e,r]),o.a.createElement(w.Layout.Card,null,o.a.createElement(w.Layout.Content,null,a?o.a.createElement("div",null,"Clicking for Cookies unlocked! (And this one doesn't need a banner.)"):o.a.createElement("div",null,"Cookies aren't just for eating or tracking...",r>=.3?" I believe in you!":""," ",r>=.7?" Almost there!":"")),o.a.createElement(w.Layout.ProgressBar,{progress:r}))},V=n(99),Y=n.n(V),F=n(35),U=n.n(F);const M=[String.fromCharCode(38),String.fromCharCode(38),String.fromCharCode(40),String.fromCharCode(40),String.fromCharCode(37),String.fromCharCode(39),String.fromCharCode(37),String.fromCharCode(39),"B","A"],D=(e,t)=>{let n=0,a=!0;return U()(e,(e,o)=>{a&&(e===t[o]?n+=1:a=!1)}),!!a&&n};var G={ClickingForCookies:B,StayinAlive:()=>{const{dispatch:e,state:t}=z(),[n,a]=o.a.useState(0),i=C.STAYIN_ALIVE,r=d()(t,`achievements.${i}`)||!1,l=E()(d()(t,"events.keydowns")||[],M.length);return o.a.useEffect(()=>{if(r)return;const t=s()(((e,t)=>{let n=0;for(let a=Math.min(e.length,t.length);a>0;a--){const o=D(Y()(e,a),E()(t,a));if(o){n=o;break}}return n})(M,l)/M.length,2);a(t),1===t&&(e(x(i)),e(N("Achievement unlocked: Stayin' Alive")))},[i,r,e,l]),o.a.createElement(w.Layout.Card,null,o.a.createElement(w.Layout.Content,null,r?o.a.createElement("div",null,"Stayin' Alive (with cheat codes) unlocked!"):o.a.createElement("div",null,"You know the code...")),o.a.createElement(w.Layout.ProgressBar,{progress:n}))},UnlockAchievements:()=>{const{dispatch:e,state:t}=z(),n=C.UNLOCK_ACHIEVEMENTS,a=L(t,n)||!1,i=S(t);return o.a.useEffect(()=>{a||i>=1&&(e(x(n)),e(N("Achievements unlocked! Maybe you can find more achievements?")))},[n,a,e,i]),o.a.createElement(w.Layout.Card,null,o.a.createElement(w.Layout.Content,null,a?o.a.createElement("div",null,"Unlock Achievements unlocked!"):o.a.createElement("div",null,"Wait for it...")),o.a.createElement(w.Layout.ProgressBar,{progress:i}))},WebCrawler:()=>{const{state:e}=z(),t=L(e,C.WEB_CRAWLER),n=t?1:0;return o.a.createElement(w.Layout.Card,null,o.a.createElement(w.Layout.Content,null,t?o.a.createElement("div",null,"Web Crawler unlocked!"):o.a.createElement("div",null,"What would the web crawler do?")),o.a.createElement(w.Layout.ProgressBar,{progress:n}))}};var X=({children:e}={})=>null,q=n(108),H=n.n(q);var Q=({className:e="",data:t={},style:n={}}={})=>o.a.createElement("pre",{className:H()(e),style:n},JSON.stringify(t,null,4)),Z=n(109),$=n.n(Z);const ee=m.a.bind($.a);var te=()=>{const{state:e}=z(),[t,n]=o.a.useState(!1),a={open:t};return o.a.createElement(X,null,o.a.createElement("div",{className:ee("container",a)},t?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:()=>n(!t)},"hide state")),o.a.createElement(Q,{data:e})):o.a.createElement("button",{type:"button",onClick:()=>n(!t)},"show state")))};var ne=()=>{const{state:e,dispatch:t}=z();return o.a.useEffect(()=>{const n=n=>{const a=C.WEB_CRAWLER;"social-link"===n.target.getAttribute("data-app")&&(L(e,a)||(t(x(a)),t(N("Achievement unlocked: Yes, that is what the web crawler would do."))))};return window.addEventListener("click",n,!1),()=>{window.removeEventListener("click",n,!1)}},[e,t]),o.a.useEffect(()=>{const e={click:e=>t((e=>({type:"jo/events/click",payload:e||{}}))(e)),keydown:e=>t((e=>({type:"jo/events/key-down",payload:{code:e.which,char:String.fromCharCode(e.which)}}))(e))};U()(e,(e,t)=>{window.addEventListener(t,e,!1)});const n=setInterval(()=>{t((()=>({type:k}))())},1e3);return()=>{U()(e,(e,t)=>{window.removeEventListener(t,e,!1)}),clearInterval(n)}},[t]),o.a.createElement("div",null)},ae=n(111),oe=n.n(ae);const ie=m.a.bind(oe.a);var re=({className:e="",notification:t,onClose:n,style:a={}}={})=>o.a.createElement("div",{className:ie("notification",d()(t,"type","info"),e),style:a},o.a.createElement("div",{className:ie("message")},d()(t,"message")),o.a.createElement("button",{className:ie("close"),onClick:()=>n(t)},"Close"));var le=()=>{const{state:e,dispatch:t}=z(),n=d()(e,"notifications[0]");return n?o.a.createElement(re,{notification:n,onClose:(...e)=>t(function(e){return{type:I,payload:e}}(...e))}):null};var se=({interval:e=3})=>{const{state:t}=z(),n=b(t);return o.a.useEffect(()=>{n&&n%e==0&&(window.localStorage["jwo-achievements"]=JSON.stringify(t))},[t,n,e]),o.a.createElement("div",null)};var ce=()=>{let e;try{e=JSON.parse(window.localStorage["jwo-achievements"]||"{}")}catch(t){console.warn("Could not read value stored for achievements state. Reverting to empty initial state."),e={}}const[t,n]=o.a.useReducer(R,e),a=L(t,C.UNLOCK_ACHIEVEMENTS),i=S(t),r=L(t,C.CLICKING_FOR_COOKIES);return o.a.createElement(P.Provider,{value:{state:t,dispatch:n}},o.a.createElement(ne,null),o.a.createElement(te,null),o.a.createElement(se,null),o.a.createElement(le,null),r?o.a.createElement("a",{href:"https://orteil.dashnet.org/cookieclicker/",rel:"external noopener noreferrer",target:"_blank",title:"go click some cookies"},o.a.createElement("img",{alt:"cookie",src:"cookie-for-clicking.png",style:{height:243,position:"absolute",right:15,top:200,width:250,zIndex:-1}})):null,o.a.createElement("div",{style:{bottom:0,left:0,position:"fixed",visibility:a?"visible":"hidden",width:"100%"}},o.a.createElement(w.Drawer,null,o.a.createElement(G.UnlockAchievements,null),o.a.createElement(G.StayinAlive,null),o.a.createElement(G.WebCrawler,null),o.a.createElement(G.ClickingForCookies,null))),o.a.createElement("div",{style:{bottom:0,display:a?"none":"block",left:0,position:"fixed",width:"100%"}},a?null:o.a.createElement(w.Layout.ProgressBar,{progress:i})))};n.d(t,"main",(function(){return de}));const de=({rootId:e="achievements"}={})=>{let t=document.getElementById(e);t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),r.a.render(o.a.createElement(ce,null),t)};t.default=de},109:function(e,t,n){var a=n(110);"string"==typeof a&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(19)(a,o);a.locals&&(e.exports=a.locals)},110:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,".uLjP1nauJDLcyXLiSllbh {\n  /** This location is just a guess. Restyle if needed. */\n  position: fixed;\n  right: 0;\n  top: 0;\n  padding: 1rem;\n}\n",""]),t.locals={container:"uLjP1nauJDLcyXLiSllbh"}},111:function(e,t,n){var a=n(112);"string"==typeof a&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(19)(a,o);a.locals&&(e.exports=a.locals)},112:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._1oz1EPnKamj2WWYfTu3caT {\n  -webkit-box-align: center;\n          align-items: center;\n  box-sizing: border-box;\n\n  display: -webkit-box;\n\n  display: flex;\n  justify-content: space-around;\n  padding: 1em;\n\n  position: fixed;\n  top: 1em;\n  left: 3em;\n  right: 3em;\n}\n\n/* Styling for specific notification types. */\n._1oz1EPnKamj2WWYfTu3caT._27nY54s99pym6p_Lj6VeM- {\n  background-color: #e6d963;\n  color: black;\n}\n._1oz1EPnKamj2WWYfTu3caT.J_mM_4iinPGx217iBIn7n {\n  background-color: #c51162;\n  color: white;\n}\n\n@media (max-width: 768px) {\n  ._1oz1EPnKamj2WWYfTu3caT {\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n}\n\n._3JiSC0xqNs914ukxV_WK1Y {\n  width: 80%;\n}\n\n._2jNLAHJdVuBWFSxl-XW6Yt {\n  /* Button reset */\n  border: none;\n  margin: 0;\n  /* padding: 0; */\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize `line-height`. Cannot be changed from `normal` in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable `input` types in iOS */\n  -webkit-appearance: none;\n  /* end Button reset */\n\n  color: #575757;\n  display: inline-block;\n  font-family: sans-serif;\n  font-weight: bold;\n  font-size: 0.8em;\n  padding: 0.3em;\n  text-transform: uppercase;\n  max-width: 20%;\n}\n\n.J_mM_4iinPGx217iBIn7n ._2jNLAHJdVuBWFSxl-XW6Yt {\n  color: white;\n}\n",""]),t.locals={notification:"_1oz1EPnKamj2WWYfTu3caT",info:"_27nY54s99pym6p_Lj6VeM-",error:"J_mM_4iinPGx217iBIn7n",message:"_3JiSC0xqNs914ukxV_WK1Y",close:"_2jNLAHJdVuBWFSxl-XW6Yt"}},6:function(e,t){},81:function(e,t,n){var a=n(82);"string"==typeof a&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(19)(a,o);a.locals&&(e.exports=a.locals)},82:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,".Uw8D0Ody-RAVwTelXpZl0 {\n  -webkit-box-align: center;\n          align-items: center;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  /* This is achievement specific, not a very generalized drawer. */\n  min-height: 9rem;\n  position: relative;\n  -webkit-transition: width 0.25s ease-out;\n  transition: width 0.25s ease-out;\n  width: 0;\n}\n\n.Uw8D0Ody-RAVwTelXpZl0._2I-uzjJZT65vQKUw_sk93s {\n  width: 100%;\n}\n\n._3xRf-zpxwi3eRPt1GFIetV {\n  display: -webkit-box;\n  display: flex;\n  overflow-x: scroll;\n  -webkit-transition: width 0.25s ease-out;\n  transition: width 0.25s ease-out;\n  width: 0;\n}\n\n._3xRf-zpxwi3eRPt1GFIetV._2I-uzjJZT65vQKUw_sk93s {\n  width: 100%;\n}\n\n/* When !open, button is edged into view on the left side from the closed drawer. */\n._3taC9g-6LqQ3KKt37JOWNc {\n  -webkit-box-align: center;\n          align-items: center;\n  background-color: rgb(33,33,33);\n  border-radius: 0 100% 100% 0;\n  color: rgb(255,255,255);\n  display: -webkit-box;\n  display: flex;\n  height: 4.6rem;\n  -webkit-box-pack: center;\n          justify-content: center;\n  right: -2.83rem; /* Visible relative to width of button. */\n  position: absolute;\n  width: 2.83rem;\n}\n._3taC9g-6LqQ3KKt37JOWNc._2I-uzjJZT65vQKUw_sk93s {\n  border-radius: 100% 0 0 100%;\n  position: static;\n}\n",""]),t.locals={container:"Uw8D0Ody-RAVwTelXpZl0",open:"_2I-uzjJZT65vQKUw_sk93s",content:"_3xRf-zpxwi3eRPt1GFIetV",button:"_3taC9g-6LqQ3KKt37JOWNc"}}}]);
//# sourceMappingURL=2.chunk.js.map